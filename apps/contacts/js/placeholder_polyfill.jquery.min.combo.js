jQuery.onFontResize=function($){$(document).ready(function(){var $resizeframe=$("<iframe />").attr("id","frame-onFontResize"+Date.parse(new Date)).css({width:"100em",height:"10px",position:"absolute",borderWidth:0,top:"-5000px",left:"-5000px"}).appendTo("body");if($.browser.msie){$resizeframe.bind("resize",function(){$.onFontResize.trigger($resizeframe[0].offsetWidth/100)})}else{var doc=$resizeframe[0].contentWindow||$resizeframe[0].contentDocument||$resizeframe[0].document;doc=doc.document||doc;doc.open();doc.write('<div id="em" style="width:100em;height:10px;"></div>');doc.write("<scri"+'pt>window.onload = function(){var em = document.getElementById("em");window.onresize = function(){if(parent.jQuery.onFontResize){parent.jQuery.onFontResize.trigger(em.offsetWidth / 100);}}};</scri'+"pt>");doc.close()}});return{trigger:function(em){$(document).trigger("fontresize",[em])}}}(jQuery);(function($){var debug=false,animId;function showPlaceholderIfEmpty(input,options){if(input.val()===""){input.data("placeholder").removeClass(options.hideClass)}else{input.data("placeholder").addClass(options.hideClass)}}function hidePlaceholder(input,options){input.data("placeholder").addClass(options.hideClass)}function positionPlaceholder(placeholder,input){var ta=input.is("textarea");var offset=input.offset();if(input.css("padding")&&input.css("padding")!=="0px"){var padding=input.css("padding").split(" ");offset.top+=Number(padding[0].replace("px",""));offset.left+=Number(padding[padding.length-1].replace("px",""))}else{if(input.css("padding-top")&&input.css("padding-top")!=="0px"){offset.top+=Number(input.css("padding-top").replace("px",""))}if(input.css("padding-left")&&input.css("padding-left")!=="0px"){offset.left+=Number(input.css("padding-left").replace("px",""))}}placeholder.css({width:input.innerWidth()-(ta?20:4),height:input.innerHeight()-6,lineHeight:input.css("line-height"),whiteSpace:ta?"normal":"nowrap",overflow:"hidden"}).offset(offset)}function startFilledCheckChange(input,options){var val=input.val();(function checkloop(){animId=requestAnimationFrame(checkloop);if(input.val()!==val){hidePlaceholder(input,options);stopCheckChange();startEmptiedCheckChange(input,options)}})()}function startEmptiedCheckChange(input,options){(function checkloop(){animId=requestAnimationFrame(checkloop);showPlaceholderIfEmpty(input,options)})()}function stopCheckChange(){cancelAnimationFrame(animId)}function log(msg){if(debug&&window.console&&window.console.log){window.console.log(msg)}}$.fn.placeHolder=function(config){log("init placeHolder");var o=this;var l=$(this).length;this.options=$.extend({className:"placeholder",visibleToScreenreaders:true,visibleToScreenreadersHideClass:"placeholder-hide-except-screenreader",visibleToNoneHideClass:"placeholder-hide",hideOnFocus:false,removeLabelClass:"visuallyhidden",hiddenOverrideClass:"visuallyhidden-with-placeholder",forceHiddenOverride:true,forceApply:false,autoInit:true},config);this.options.hideClass=this.options.visibleToScreenreaders?this.options.visibleToScreenreadersHideClass:this.options.visibleToNoneHideClass;return $(this).each(function(index){var input=$(this),text=input.attr("placeholder"),id=input.attr("id"),label,placeholder,titleNeeded,polyfilled;if(text===""||text===undefined){text=input[0].attributes["placeholder"].value}label=input.closest("label");input.removeAttr("placeholder");if(!label.length&&!id){log("the input element with the placeholder needs an id!");return}label=label.length?label:$('label[for="'+id+'"]').first();if(!label.length){log("the input element with the placeholder needs a label!");return}polyfilled=$(label).find(".placeholder");if(polyfilled.length){positionPlaceholder(polyfilled,input);polyfilled.text(text);return input}if(label.hasClass(o.options.removeLabelClass)){label.removeClass(o.options.removeLabelClass).addClass(o.options.hiddenOverrideClass)}placeholder=$("<span>").addClass(o.options.className).text(text).appendTo(label);titleNeeded=placeholder.width()>input.width();if(titleNeeded){placeholder.attr("title",text)}positionPlaceholder(placeholder,input);input.data("placeholder",placeholder);placeholder.data("input",placeholder);placeholder.click(function(){$(this).data("input").focus()});input.focusin(function(){if(!o.options.hideOnFocus&&window.requestAnimationFrame){startFilledCheckChange(input,o.options)}else{hidePlaceholder(input,o.options)}});input.focusout(function(){showPlaceholderIfEmpty($(this),o.options);if(!o.options.hideOnFocus&&window.cancelAnimationFrame){stopCheckChange()}});showPlaceholderIfEmpty(input,o.options);$(document).bind("fontresize resize",function(){positionPlaceholder(placeholder,input)});if($.event.special.resize){$("textarea").bind("resize",function(e){positionPlaceholder(placeholder,input)})}else{$("textarea").css("resize","none")}if(index>=l-1){$.attrHooks.placeholder={get:function(elem){if(elem.nodeName.toLowerCase()==="input"||elem.nodeName.toLowerCase()==="textarea"){if($(elem).data("placeholder")){return $($(elem).data("placeholder")).text()}else{return $(elem)[0].placeholder}}else{return undefined}},set:function(elem,value){return $($(elem).data("placeholder")).text(value)}}}})};$(function(){var config=window.placeHolderConfig||{};if(config.autoInit===false){log("placeholder:abort because autoInit is off");return}if(("placeholder"in $("<input>")[0]||"placeHolder"in $("<input>")[0])&&!config.forceApply){log("placeholder:abort because browser has native support");return}$("input[placeholder], textarea[placeholder]").placeHolder(config)})})(jQuery);